# 故障排查指南

## 常见问题及解决方案

### 1. 图片识别失败 (recognize error)

**错误信息**: `recognize error` 或 `图片识别失败`

**可能原因**:
1. 图片不清晰或分辨率太低
2. 图片格式不支持
3. 图片内容无法识别(如纯文字、表格等)
4. 图片大小超过限制

**解决方案**:
- ✅ 确保上传的是清晰的截图
- ✅ 使用常见图片格式(JPG、PNG)
- ✅ 图片大小控制在10MB以内
- ✅ 确保截图包含完整的成绩信息
- ✅ 避免上传模糊、倾斜或有遮挡的图片
- ✅ 如果是多张图片,确保每张都清晰可读

### 2. 识别超时

**错误信息**: `识别超时,请稍后重试`

**可能原因**:
1. 网络连接不稳定
2. 服务器负载过高
3. 图片处理时间过长

**解决方案**:
- ✅ 检查网络连接
- ✅ 稍后重试
- ✅ 尝试上传更小的图片
- ✅ 分批上传多张图片

### 3. 数据解析错误

**错误信息**: 数据保存后显示不完整或不正确

**可能原因**:
1. OCR识别结果不准确
2. 数据格式与预期不符
3. 模块名称不匹配

**解决方案**:
- ✅ 检查上传的截图是否完整
- ✅ 确保截图中的文字清晰可读
- ✅ 如果数据不正确,删除记录后重新上传更清晰的截图
- ✅ 确保截图包含所有必要的模块信息

### 4. 页面加载缓慢

**可能原因**:
1. 数据量过大
2. 网络连接慢
3. 浏览器缓存问题

**解决方案**:
- ✅ 清除浏览器缓存
- ✅ 刷新页面
- ✅ 检查网络连接
- ✅ 如果数据量很大,考虑删除旧的考试记录

### 5. 图表显示异常

**可能原因**:
1. 数据不完整
2. 浏览器兼容性问题
3. 缓存问题

**解决方案**:
- ✅ 刷新页面
- ✅ 使用现代浏览器(Chrome、Firefox、Edge等)
- ✅ 清除浏览器缓存
- ✅ 检查是否有足够的考试记录数据

## 调试技巧

### 查看控制台日志

1. 打开浏览器开发者工具(F12)
2. 切换到"Console"标签
3. 查看错误信息和日志
4. 截图错误信息以便反馈

### 识别过程日志

系统会在控制台输出详细的识别过程日志:
- 轮询次数和状态码
- 识别成功或失败信息
- 错误详情

### 网络请求检查

1. 打开开发者工具的"Network"标签
2. 重新执行操作
3. 查看API请求和响应
4. 检查是否有失败的请求

## 最佳实践

### 上传图片建议

1. **清晰度**: 确保截图清晰,文字可读
2. **完整性**: 包含所有必要的成绩信息
3. **格式**: 使用JPG或PNG格式
4. **大小**: 每张图片不超过10MB
5. **顺序**: 如果有多张图片,按顺序选择

### 数据管理建议

1. **定期备份**: 虽然数据保存在云端,但建议定期导出重要数据
2. **及时上传**: 考试后尽快上传成绩,避免遗忘
3. **检查数据**: 上传后检查数据是否正确
4. **删除错误**: 如果发现数据错误,及时删除重新上传

### 性能优化建议

1. **分批上传**: 如果有很多图片,建议分批上传
2. **清理旧数据**: 定期删除不需要的旧考试记录
3. **使用现代浏览器**: 获得最佳性能和兼容性

## 联系支持

如果以上方法都无法解决问题,请:
1. 记录详细的错误信息
2. 截图错误页面和控制台日志
3. 描述操作步骤
4. 提供反馈

## 技术信息

### 系统要求

- **浏览器**: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **网络**: 稳定的互联网连接
- **屏幕**: 建议1280x720以上分辨率

### API限制

- **图片大小**: 最大10MB
- **识别超时**: 90秒
- **并发限制**: 建议一次处理不超过5张图片

### 数据存储

- 所有数据保存在Supabase云数据库
- 数据自动备份
- 支持跨设备访问
