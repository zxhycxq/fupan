# 考试成绩分析系统需求文档

## 1. 系统概述

### 1.1 系统名称

考试成绩分析系统\n
### 1.2 系统描述

一个专门用于分析和管理模拟考试成绩的Web系统，通过上传考试截图，利用文字识别技术提取成绩数据，进行多维度分析和可视化展示，同时提供模考计时工具帮助用户精准记录各模块答题时间，帮助用户全面了解自身学习状况，制定针对性提升计划。

## 2. 核心功能\n
### 2.1 成绩数据录入

系统提供两种数据录入方式，用户通过Tab选项卡切换，二选一使用：

#### 2.1.1 截图上传录入

- 支持用户上传考试成绩截图（image.png, image-2.png等）
- 集成通用文字识别（高精度版）API自动识别图片中的文字信息
- 用户需输入上传图片对应的考试名称\n- 后端根据索引项顺序保存每次考试数据

#### 2.1.2 表单录入

- 用户通过表单手动填写各模块成绩数据
- 表单采用折叠面板结构，大模块支持展开/折叠操作
- 每个大模块下包含对应的子模块录入项
- 每个模块/子模块需填写以下字段：
  - 题目数量（总题数）
  - 答对数量\n  - 用时（单位：秒或分钟）
- 用户需输入考试名称、索引号、总用时等基础信息

**表单模块结构：**

**大模块1：政治理论**（可折叠）
- 马克思主义：题目数量、答对数量、用时\n- 理论与政策：题目数量、答对数量、用时
- 时政热点：题目数量、答对数量、用时
\n**大模块2：常识判断**（可折叠）
- 经济常识：题目数量、答对数量、用时
- 科技常识：题目数量、答对数量、用时
- 人文常识：题目数量、答对数量、用时
- 地理国情：题目数量、答对数量、用时
- 法律常识：题目数量、答对数量、用时
\n**大模块3：言语理解与表达**（可折叠）
- 逻辑填空：题目数量、答对数量、用时
- 片段阅读：题目数量、答对数量、用时
- 语句表达：题目数量、答对数量、用时\n\n**大模块4：数量关系**（可折叠）
- 数学运算：题目数量、答对数量、用时\n\n**大模块5：判断推理**（可折叠）
- 图形推理：题目数量、答对数量、用时
- 定义判断：题目数量、答对数量、用时
- 类比推理：题目数量、答对数量、用时
- 逻辑判断：题目数量、答对数量、用时

**大模块6：资料分析**（可折叠）
- 文字资料：题目数量、答对数量、用时
- 综合资料：题目数量、答对数量、用时
- 简单计算：题目数量、答对数量、用时
- 其期与现期：题目数量、答对数量、用时
- 增长率：题目数量、答对数量、用时
- 增长量：题目数量、答对数量、用时
- 比重问题：题目数量、答对数量、用时
- 平均数问题：题目数量、答对数量、用时

### 2.2 数据解析与存储

根据提供的截图内容或表单录入数据，系统按照以下模块划分存储数据：

#### 2.2.1 一级模块（大模块）\n
- **公务员行测**：包含共计130题，答对79题，答错51题，未答0题，用时14分钟
- **政治理论**：包含马克思主义、理论与政策、时政热点三个子模块\n- **常识判断**：包含经济常识、科技常识、人文常识、地理国情、法律常识五个子模块
- **言语理解与表达**：包含逻辑填空、片段阅读、语句表达三个子模块
- **数量关系**：包含数学运算子模块\n- **判断推理**：包含图形推理、定义判断、类比推理、逻辑判断四个子模块
- **资料分析**：包含文字资料、综合资料、简单计算、其期与现期、增长率、增长量、比重问题、平均数问题八个子模块\n
#### 2.2.2 二级模块（小模块）

**政治理论细分：**
- 马克思主义：总题数3题，答对2题，正确率67%，用时3秒
- 理论与政策：总题数17题，答对13题，正确率76%，用时25秒
- 时政热点：总题数6题，答对5题，正确率83%，用时7秒

**常识判断细分：**
- 经济常识：总题数1题，答对1题，正确率100%，用时3秒
- 科技常识：总题数4题，答对2题，正确率50%，用时5秒
- 人文常识：总题数2题，答对0题，正确率0%，用时3秒
- 地理国情：总题数1题，答对0题，正确率0%，用时2秒
- 法律常识：总题数7题，答对4题，正确率57%，用时8秒

**言语理解与表达细分：**
- 逻辑填空：总题数15题，答对12题，正确率80%，用时19秒
- 片段阅读：总题数10题，答对8题，正确率80%，用时13秒
- 语句表达：总题数5题，答对3题，正确率60%，用时9秒

**数量关系细分：**\n- 数学运算：总题数10题，答对2题，正确率20%，用时16秒
\n**判断推理细分：**
- 图形推理：总题数10题，答对7题，正确率70%，用时2秒
- 定义判断：总题数10题，答对8题，正确率80%，用时36秒
- 类比推理：总题数5题，答对3题，正确率60%，用时6秒
- 逻辑判断：总题数10题，答对7题，正确率70%，用时38秒

**资料分析细分：**\n- 文字资料：总题数5题，答对2题，正确率40%，用时8秒
- 综合资料：总题数15题，答对5题，正确率33%，用时24秒
- 简单计算：总题数2题，答对1题，正确率50%，用时3秒
- 其期与现期：总题数1题，答对1题，正确率100%，用时3秒
- 增长率：总题数4题，答对1题，正确率25%，用时5秒
- 增长量：总题数2题，答对1题，正确率50%，用时4秒
- 比重问题：总题数3题，答对3题，正确率100%，用时2秒
- 平均数问题：总题数3题，答对0题，正确率0%，用时6秒

### 2.3 随机数据生成与统计分析示例

系统内置模拟数据生成功能，以下为示例统计分析：

#### 2.3.1 总体得分数据

- **我的得分**：61.6/100
- **答题用时**：14分28秒
- **最高分**：100分
- **平均分**：62.1分
- **已击败考生**：48.9%
- **难度**：4.9分
\n#### 2.3.2 得分分布趋势

-100分段：占比33.3%
- 66.7分段：占比33.3%
- 0分段：占比33.3%
- 当前得分61.6分位于66.7分段附近

#### 2.3.3 模块正确率对比分析

| 模块名称 | 正确率 | 与目标差距 |
|---------|--------|----------|
| 政治理论 | 75% | -10% |
| 常识判断 | 47% | -38% |
| 言语理解与表达 | 77% | -8% |
| 数量关系 | 20% | -65% |
| 判断推理 | 71% | -14% |
| 资料分析 | 35% | -50% |

**雷达图展示**：政治理论、言语理解表现较好，数量关系、资料分析为明显短板。

#### 2.3.4 薄弱环节分析

**高优先级提升模块：**
1. 数量关系（正确率20%）：建议加强数学运算基础训练，每天练习10题
2. 资料分析（正确率35%）：重点突破综合资料和平均数问题，练习快速阅读技巧
3. 常识判断（正确率47%）：补充人文常识和地理国情知识点
\n**时间效率优化：**
- 判断推理用时较长（3分钟），需提升定义判断和逻辑判断速度
- 资料分析用时9分钟，需练习快速定位关键数据
\n### 2.4 数据可视化分析

-使用React框架构建前端界面
- 集成ECharts库生成各类图表
\n#### 2.4.1 数据总览页面（原数据分析页面）

展示整体成绩趋势和综合分析：

**页面布局调整：**
\n- **上方区域**：倒计时和加油站保持原有展示
\n- **中间区域（左右分栏布局）**：\n  - **左侧**：新增平均分仪表盘
    - 参考ECharts仪表盘示例（https://echarts.apache.org/examples/zh/editor.html?c=gauge-stage）
    - 仪表盘以60分、80分为分隔线，划分为三个区段
    - 0-60分区段显示为浅蓝色或青色，表示需努力
    - 60-80分区段显示为蓝色，表示中等水平
    - 80-100分区段显示为红色或粉色，表示优秀
    - 仪表盘中央显示当前平均分数值
  - **右侧**：原中间的四个卡片（最高分、平均分、已击败考生、难度）改为两行两列布局展示

- **成绩趋势分析**：
  - 总分变化折线图
  - **移动端横屏查看功能（新增）**：
    - 在总分趋势图表右上角或合适位置添加〖横屏查看〗切换按钮，使用图标（如旋转图标）或文字标识
    - 用户点击按钮后，弹出全屏Modal弹窗\n    - 弹窗内展示相同的总分趋势图表，但图表整体旋转90度，以横屏方式呈现
    - 横屏模式下，将移动设备的长边（竖向）作为图表的宽度（横向），充分利用屏幕空间
    - 弹窗提供关闭按钮，用户可随时退出横屏查看模式，返回正常竖屏展示
    - 该功能仅在移动端（屏幕宽度小于768px）时显示切换按钮，桌面端不显示
  - 各大模块得分趋势图\n  - 关键模块详细分析\n
- **各模块正确率趋势（原模块趋势）**：
  - 各大模块正确率变化折线图
  - X轴显示考试名称（按索引项升序排列）
  - Y轴显示正确率百分比（0%-100%）
  - 鼠标悬停显示具体考试的详细数据
\n- **各模块用时趋势（新增）**：
  - 各大模块用时变化柱状图或折线图
  - X轴显示考试名称（按索引项升序排列）
  - Y轴显示用时（秒或分钟）
  - 数据来源：从考试记录详情中各模块的用时数据中提取
  - 鼠标悬停显示具体考试各模块的用时详情

- **效率分析**：
  - 各模块用时统计图
  - 正确率与用时关系分析
\n- **模块对比**：
  - 各大模块平均得分柱状图
  - 弱势模块识别和提醒

#### 2.4.2 各模块分析页面（新增）

新增独立路由页面，展示历次考试各模块二级模块的详细趋势分析：

**页面布局：**
- **顶部区域**：新增日期选择范围UI，样式与数据总览页面保持一致，包含开始日期和结束日期选择器，用户可筛选指定时间范围内的考试数据
- 各模块分析页面的日期选择与数据总览页面的日期选择互不干扰，各自独立保存筛选状态
- 按一级模块分类，每个模块设置大标题和独立区域
- 不同模块使用不同主题色进行区分（如政治理论用蓝色、常识判断用绿色、言语理解与表达用紫色、数量关系用橙色、判断推理用青色、资料分析用红色）

**展示内容：**
\n**政治理论模块**
- 马克思主义正确率趋势折线图
- 理论与政策正确率趋势折线图
- 时政热点正确率趋势折线图
\n**常识判断模块**
- 经济常识正确率趋势折线图
- 科技常识正确率趋势折线图
- 人文常识正确率趋势折线图
- 地理国情正确率趋势折线图
- 法律常识正确率趋势折线图

**言语理解与表达模块**
- 逻辑填空正确率趋势折线图
- 片段阅读正确率趋势折线图
- 语句表达正确率趋势折线图

**数量关系模块**\n- 数学运算正确率趋势折线图
\n**判断推理模块**
- 图形推理正确率趋势折线图
- 定义判断正确率趋势折线图\n- 类比推理正确率趋势折线图
- 逻辑判断正确率趋势折线图

**资料分析模块**\n- 文字资料正确率趋势折线图
- 综合资料正确率趋势折线图
- 简单计算正确率趋势折线图
- 其期与现期正确率趋势折线图
- 增长率正确率趋势折线图
- 增长量正确率趋势折线图
- 比重问题正确率趋势折线图
- 平均数问题正确率趋势折线图\n
**图表功能：**
- X轴显示考试名称（按索引项升序排列，根据顶部日期筛选条件过滤）
- Y轴显示正确率百分比（0%-100%）\n- 鼠标悬停显示具体考试的详细数据（考试名称、正确率、答对数、总题数）
- 支持图表缩放和数据筛选\n\n### 2.5 个人数据管理

#### 2.5.1 考试记录列表

考试记录列表包含以下字段：

- **索引项**：用于控制列表排序，默认从1开始自动递增，用户可手动修改但不可重复
- **考试名称**：用户自定义的考试名称（替代原期数字段）
- **考试类型**：\n  - **编辑时**：在编辑考试记录弹窗中显示为下拉单选选择器，提供5个选项：
    + 国考真题
    + 国考模考（默认选中）
    + 省考真题
    + 省考模考
    + 其他\n  - **列表展示时**：使用Ant Design的Tag组件，以带边框颜色的Tag形式展示考试类型（参考附件图片样式），不同类型使用不同颜色区分，而非纯文本形式
- **星级评价**：用户可为每条记录设置星级评价，最高五星级，支持半星评分，使用Ant Design的Rate组件实现（https://ant-design.antgroup.com/components/rate-cn#api）
- **总分**：考试总得分\n- **用时**：答题总用时
- **上传时间**：成绩数据上传时间
- **操作**：查看详情、删除等操作按钮

#### 2.5.2 考试记录查询表单（新增）

**表单布局：**
-位于考试记录列表上方，提供多维度筛选功能
- 采用横向表单布局，所有筛选项和按钮排列在同一行或折行展示
\n**筛选项设计：**
\n1. **考试名称**\n   - 组件类型：Input输入框
   - 功能：输入文本进行模糊搜索，匹配考试名称字段\n   - 占位符文案：〖请输入考试名称〗
\n2. **考试类型**
   - 组件类型：Select下拉单选选择器（与编辑考试记录时的考试类型选择器样式一致，参考附件图片）
   - 选项：国考真题、国考模考、省考真题、省考模考、其他、全部（默认选中〖全部〗）
   - 占位符文案：〖请选择考试类型〗

3. **总分区间**
   - 组件类型：Select下拉单选选择器
   - 选项：以10分为间隔划分为10个区间\n     + 0-10分\n     + 11-20分
     + 21-30分
     + 31-40分
     + 41-50分
     + 51-60分\n     + 61-70分
     + 71-80分
     + 81-90分
     + 91-100分
     + 全部（默认选中〖全部〗）
   - 占位符文案：〖请选择总分区间〗

4. **击败率区间**
   - 组件类型：Select下拉单选选择器
   - 选项：以10%为间隔划分为10个区间
     + 0%-10%
     + 11%-20%
     + 21%-30%
     + 31%-40%
     + 41%-50%
     + 51%-60%\n     + 61%-70%
     + 71%-80%
     + 81%-90%
     + 91%-100%
     + 全部（默认选中〖全部〗）
   - 占位符文案：〖请选择击败率区间〗
\n5. **考试日期**
   - 组件类型：Ant Design的RangePicker日期范围选择器（参考数据总览页面的日期筛选组件使用方法及效果）
   - 功能：选择开始日期和结束日期，筛选该时间范围内的考试记录
   - 占位符文案：〖请选择考试日期范围〗

6. **星级评价**
   - 组件类型：Select下拉单选选择器
   - 选项：一星、二星、三星、四星、五星、全部（默认选中〖全部〗）
   - 说明：星级评价支持半星（如1.5星、2.5星等），查询时四舍五入后进行匹配（例如用户选择二星，则匹配1.5星至2.4星之间的记录）
   - 占位符文案：〖请选择星级评价〗

**操作按钮：**
\n1. **搜索按钮**
   - 按钮文案：〖搜索〗
   - 功能：根据用户填写的筛选条件，调用后端查询接口，返回符合条件的考试记录列表
   - 按钮样式：主色调按钮（Primary Button）\n\n2. **重置按钮**
   - 按钮文案：〖重置〗
   - 功能：清空所有筛选条件，恢复为默认状态（所有选项恢复为〖全部〗或空），并重新加载完整的考试记录列表
   - 按钮样式：次要按钮（Default Button）

**默认展示逻辑：**
- 若用户未填写任何筛选条件（所有选项均为默认状态），点击搜索按钮或页面初次加载时，默认展示全部考试记录\n- 若用户仅填写部分筛选条件，则仅根据已填写的条件进行筛选，未填写的条件不参与筛选逻辑
\n#### 2.5.3 列表功能\n
-列表按索引项升序排列\n- 索引项可编辑，系统自动校验唯一性，重复时提示用户修改
- 星级评价可随时修改，点击即可更新
- 支持多次考试数据对比分析
- 生成个性化学习报告
- 弱势模块和提分建议推送

### 2.6 个人中心页面

#### 2.6.1 页面结构

个人中心页面包含以下功能模块：

- **目标正确率设置**：从设置页面迁移至此，增加对应icon图标（使用Ant Design的Icon组件，如AimOutlined或TargetOutlined），设置各模块的目标正确率，用于在雷达图中对比实际表现
\n- **危险区域**：从设置页面独立迁移至此，包含账户删除功能\n
#### 2.6.2 目标正确率设置

-标题前添加icon图标，使用Ant Design的AimOutlined或TargetOutlined图标
- 保留原有的各模块正确率输入框和说明文案
- 设置项包括：
  - 政治理论目标正确率
  - 常识判断目标正确率
  - 言语理解与表达目标正确率
  - 数量关系目标正确率
  - 判断推理目标正确率\n  - 资料分析目标正确率
\n#### 2.6.3 账户删除功能
\n**删除按钮设计**
- 删除账户按钮位于个人中心页面的危险区域\n- 按钮颜色为红色（#F5222D），字号特大，确保用户充分注意
- 按钮文案为〖删除账户〗
\n**删除流程**
- 用户点击删除账户按钮后，系统弹出第一次确认弹窗，提示：〖此操作将永久删除您的账户及所有考试数据，包括考试记录、成绩分析、星级评价等全部信息，且后台数据将同步删除，无法恢复。是否继续？〗
- 用户选择〖继续〗后，弹出第二次确认弹窗，要求用户输入账户绑定的手机号或邮箱进行二次验证
- 二次验证通过后，系统执行删除操作
\n**删除后处理逻辑**
- 前端清空用户登录状态，跳转至登录页面
- 后端彻底删除用户所有数据，包括：
  - 用户信息表中的账户数据
  - 考试记录表中的所有考试记录
  - 模块得分表中的所有成绩数据
  - 分析结果缓存表中的相关数据
  - 模考计时记录表中的所有计时数据
- 删除后，即使用户使用相同的手机号、邮箱等信息重新注册，也不会恢复任何历史数据，系统视为全新账户

### 2.7 模考计时工具（新增）

#### 2.7.1 工具概述

模考计时工具是一个独立的功能页面，位于导航菜单中的〖考试记录〗与〖设置〗之间，点击后进入工具合集页面，第一个功能为模考计时功能，帮助用户精准记录各模块答题时间，优化时间管理策略。

#### 2.7.2 计时控制功能

**总计时器：**
- 支持正计时模式：从考试开始到结束累计总时间，展示格式为时:分:秒（HH:MM:SS）
- 支持倒计时模式：用户可提前设置考试总时长（如120分钟），时间到达后自动提醒
- 用户可在设置中切换正计时/倒计时模式，默认采用正计时模式

**模块计时器：**
- 提供6个独立计时模块，每个模块可自定义名称（默认为模块1、模块2、模块3、模块4、模块5、模块6）
- 用户可将模块名称修改为实际考试模块名称（如政治理论、常识判断、言语理解与表达、数量关系、判断推理、资料分析）
- 每个模块单独正计时，记录从开始到结束的净耗时，不计入暂停时间
- 用户可自行选择答题顺序，模块计时器支持非顺序启动（如先做模块3，再做模块1）\n
#### 2.7.3 操作流程与交互

**一键开始考试：**
- 点击〖开始考试〗按钮后，总计时器启动\n- 用户需手动点击第一个要答题的模块的〖开始〗按钮，该模块计时器启动
\n**模块切换控制：**
- 默认采用自动切换模式：用户点击新模块的〖开始〗按钮时，系统自动结束当前模块计时，并启动新模块计时
- 系统提供设置选项，允许用户选择偏好模式（自动切换/手动切换），手动切换模式下需用户先点击当前模块的〖结束〗按钮，再点击新模块的〖开始〗按钮

**暂停/继续：**
- 提供全局暂停按钮，点击后停止总计时器和当前正在运行的模块计时器
- 暂停期间，界面显示〖继续〗按钮，点击后恢复计时\n- 暂停时间不计入总用时和模块用时

**结束考试：**
- 点击〖结束考试〗按钮后，停止所有计时器
- 系统弹出确认弹窗，提示用户是否保存本次模考记录
- 确认后生成本次模拟报告，并自动保存至模考计时记录表\n
#### 2.7.4 时间记录与展示

**实时显示：**
- 顶部显示总计时器（时:分:秒格式）
- 中部区域显示6个模块卡片，每个卡片包含：
  - 模块名称（可编辑）
  - 模块计时器（时:分:秒格式）
  - 模块状态（未开始/进行中/已完成）
  - 起止时间（格式：HH:MM:SS ~ HH:MM:SS）\n  - 开始/结束按钮\n  - 建议时间进度条（若用户在设置中为该模块设置了建议时间）

**最终报告：**
- 展示每个模块的详细数据：
  - 起止时间（HH:MM:SS ~ HH:MM:SS）
  - 净耗时（分钟或时:分:秒格式）
  - 与建议时间的差值（若设置）
- 展示总考试时长\n- 生成各模块时间分布饼图或柱状图（使用ECharts），可视化分析各模块用时占比

#### 2.7.5 自定义与提醒

**模块设置：**
- 允许用户重命名模块（如将模块1改为政治理论，模块2改为常识判断等）
- 可为每个模块设置建议时间（如政治理论建议用时20分钟），计时时在卡片中显示进度条，超时后进度条变红
\n**提醒功能：**
- 模块时间到：当模块用时达到建议时间时，播放声音提醒（可在设置中开关），界面卡片闪烁提示
- 考试结束提醒：总时间到（倒计时模式）或用户手动结束时，弹出模拟报告\n\n#### 2.7.6 界面与体验

**布局设计：**
- **顶部区域**：\n  - 总计时器（居中显示，字号特大）
  - 全局控制按钮：〖开始考试〗、〖暂停〗、〖继续〗、〖结束考试〗
  - 模式切换按钮：切换正计时/倒计时模式
- **中部区域**：\n  - 6个模块卡片，采用2行3列或3行2列布局（根据屏幕宽度自适应）
  - 每个卡片包含模块名称、计时器、开始/结束按钮、建议时间进度条、起止时间\n- **底部区域**：
  - 重置按钮，点击后清空当前计时数据，重新开始

**响应式设计：**
- 适配电脑、平板等设备，确保在电脑端操作舒适（按钮尺寸适中，便于快速点击）
- 移动端优化布局，模块卡片改为单列纵向排列\n
#### 2.7.7 容错与帮助

**异常处理：**
- 页面刷新或意外关闭时，系统自动保存当前计时状态至浏览器LocalStorage
- 用户重新打开页面时，弹出确认弹窗：〖检测到未完成的模考记录，是否恢复？〗
- 用户选择〖恢复〗后，恢复上次计时状态（包括总计时、各模块计时、模块状态等）
- 用户选择〖放弃〗后，清空未保存的计时数据

**重置功能：**
- 提供〖重置〗按钮，点击后清空当前计时数据，所有模块恢复为未开始状态
- 系统弹出二次确认弹窗：〖是否确认重置？未保存的数据将丢失。〗
\n#### 2.7.8 数据存储与历史记录

**模考计时记录表：**
- 系统新增模考计时记录表，存储每次模考的计时数据
- 字段包括：
  - 记录ID（唯一标识）
  - 考试名称（用户可自定义）
  - 考试日期（自动记录）
  - 总用时（分钟或时:分:秒格式）\n  - 各模块名称
  - 各模块用时
  - 各模块起止时间
  - 备注（用户可选填）
\n**历史记录查询：**
- 在工具合集页面或单独的历史记录页面，用户可查看所有模考计时记录
- 支持按考试名称、考试日期筛选\n- 支持查看单次模考的详细报告（包括各模块用时分布饼图/柱状图）

## 3. 技术要求

### 3.1 前端技术\n
-框架：React\n- UI组件库：Ant Design（用于Rate评分组件、Tabs选项卡、Collapse折叠面板、Icon图标、DatePicker日期选择器、RangePicker日期范围选择器、Tag标签、Select下拉选择器、Input输入框、Button按钮、Modal弹窗等）
- 图表库：ECharts\n- 响应式设计，适配不同屏幕尺寸\n- 路由管理：React Router（用于实现数据总览、各模块分析页面、个人中心页面、模考计时工具页面的路由切换）
- 本地存储：使用浏览器LocalStorage实现模考计时工具的异常恢复功能

### 3.2 后端技术\n
- 数据存储：数据库保存用户考试记录、模考计时记录\n- 文字识别：集成通用文字识别（高精度版）API\n- 数据处理：自动解析识别结果，结构化存储
\n### 3.3 数据结构

- 用户信息表\n- 考试记录表（包含索引项、考试名称、考试类型、星级评价、总分、用时等）
- 模块得分表（大模块和小模块分级存储）
- 分析结果缓存表\n- **模考计时记录表（新增）**：存储每次模考的计时数据，包含记录ID、考试名称、考试日期、总用时、各模块名称、各模块用时、各模块起止时间、备注等字段

### 3.4 前后端逻辑调整

**前端：**
- 上传成绩页面新增Tab选项卡，包含〖截图上传〗和〖表单录入〗两个Tab，用户二选一\n- 截图上传Tab保留原有上传逻辑\n- 表单录入Tab采用Ant Design的Collapse折叠面板组件，大模块默认折叠，点击展开后显示子模块录入项
- 每个子模块录入项包含题目数量、答对数量、用时三个输入框\n- 表单提交时前端校验必填项完整性，计算正确率并提交至后端
- 考试记录列表新增索引项列、考试类型列和星级评价列\n- 考试类型列在列表中以Ant Design Tag组件形式展示，带边框颜色，不同类型使用不同颜色（如国考真题用蓝色、国考模考用绿色、省考真题用橙色、省考模考用紫色、其他用灰色）
- 编辑考试记录弹窗中，考试类型字段显示为Ant Design Select下拉单选选择器，提供5个选项（国考真题、国考模考、省考真题、省考模考、其他），默认选中〖国考模考〗
- 索引项列支持内联编辑，输入框失焦时触发唯一性校验
- 星级评价列集成Ant Design Rate组件，allowHalf属性设置为true支持半星\n- 列表默认按索引项升序排序，支持手动排序
- 考试记录列表上方新增查询表单，包含考试名称（Input输入框）、考试类型（Select下拉选择器）、总分区间（Select下拉选择器，以10分为间隔划分）、击败率区间（Select下拉选择器，以10%为间隔划分）、考试日期（RangePicker日期范围选择器）、星级评价（Select下拉选择器，支持四舍五入匹配）等筛选项
- 查询表单包含〖搜索〗和〖重置〗两个按钮，搜索按钮调用后端查询接口，重置按钮清空所有筛选条件并重新加载全部数据
- 若用户未填写任何筛选条件，默认展示全部考试记录
- 新增〖各模块分析〗路由页面，页面顶部添加日期选择范围UI（开始日期和结束日期选择器），样式与数据总览页面保持一致\n- 各模块分析页面的日期筛选与数据总览页面的日期筛选互不干扰，各自独立维护筛选状态
- 各模块分析页面按模块分类展示二级模块正确率趋势图，图表数据根据顶部日期筛选条件动态加载
- 原〖数据分析〗页面改名为〖数据总览〗\n- 数据总览页面布局调整：
  - 倒计时和加油站下方新增左右分栏区域\n  - 左侧新增平均分仪表盘，参考ECharts示例（https://echarts.apache.org/examples/zh/editor.html?c=gauge-stage），以60、80为分隔线，0-60分显示浅蓝/青色，60-80分显示蓝色，80-100分显示红色/粉色
  - 右侧原四个卡片（最高分、平均分、已击败考生、难度）改为两行两列布局
- 数据总览页面新增〖各模块用时趋势〗图表模块，展示历次考试各大模块的用时变化趋势
- **数据总览页面总分趋势图新增移动端横屏查看功能**：
  - 在总分趋势图表组件右上角或适当位置添加〖横屏查看〗切换按钮（可使用旋转图标或文字）
  - 该按钮仅在移动端设备（屏幕宽度<768px）时显示，桌面端隐藏
  - 用户点击按钮后，触发全屏Modal弹窗\n  - Modal内渲染相同的ECharts总分趋势图，但图表整体旋转90度（通过设置图表的grid、xAxis、yAxis等配置项实现横屏效果）
  - 横屏模式下，将设备的竖向长边作为图表的横向宽度，充分利用屏幕显示空间
  - Modal弹窗提供关闭按钮（右上角X或返回按钮），用户点击后关闭弹窗，返回正常竖屏展示
  - 弹窗内图表数据与原图表保持同步，实时更新
- 新增〖个人中心〗路由页面，包含目标正确率设置和危险区域两个功能模块
- 目标正确率设置标题前添加Ant Design的AimOutlined或TargetOutlined图标
- 个人中心页面新增〖删除账户〗按钮，按钮为红色（#F5222D），字号特大\n- 点击删除按钮后，前端依次弹出两次确认弹窗，第二次需输入手机号或邮箱验证
- 原设置页面移除目标正确率设置和删除账户功能
- **新增〖模考计时工具〗路由页面（位于导航菜单中的考试记录与设置之间）**：
  - 页面顶部显示总计时器（时:分:秒格式），以及全局控制按钮（开始考试、暂停、继续、结束考试）
  - 中部显示6个模块卡片，采用响应式布局（桌面端2行3列或3行2列，移动端单列纵向排列）
  - 每个模块卡片包含模块名称（可编辑）、模块计时器、开始/结束按钮、建议时间进度条、起止时间、模块状态\n  - 底部提供〖重置〗按钮，点击后清空当前计时数据\n  - 模块名称支持内联编辑，用户可将默认名称（模块1-6）改为实际考试模块名称
  - 用户可自行选择答题顺序，点击任意模块的〖开始〗按钮即可启动该模块计时
  - 默认采用自动切换模式，点击新模块的〖开始〗按钮时，系统自动结束当前模块计时并启动新模块计时
  - 系统提供设置选项，允许用户切换为手动切换模式
  - 点击〖暂停〗按钮后，总计时器和当前模块计时器停止，界面显示〖继续〗按钮\n  - 点击〖结束考试〗按钮后，弹出确认弹窗，确认后生成模拟报告并保存至后端
  - 模拟报告包含各模块详细数据（起止时间、净耗时、与建议时间的差值）、总考试时长、各模块时间分布饼图/柱状图\n  - 使用浏览器LocalStorage保存当前计时状态，页面刷新或意外关闭后可恢复
  - 用户重新打开页面时，若检测到未完成的模考记录，弹出确认弹窗提示是否恢复
  - 工具合集页面或单独的历史记录页面，用户可查看所有模考计时记录，支持按考试名称、考试日期筛选
\n**后端：**
- 新增表单录入数据接收接口，接收JSON格式的模块成绩数据
- 后端自动计算各模块正确率，并按数据结构存储
- 考试记录表新增sort_order字段（索引项）、exam_type字段（考试类型）和star_rating字段（星级评价）
- sort_order字段类型为整型，设置唯一约束\n- exam_type字段类型为字符串，可选值为：〖国考真题〗、〖国考模考〗、〖省考真题〗、〖省考模考〗、〖其他〗，默认值为〖国考模考〗
- star_rating字段类型为浮点型，取值范围0-5，支持0.5步长\n- 新增索引项唯一性校验接口
- 修改考试记录查询接口，默认按sort_order升序返回数据，同时返回exam_type字段
- 新增星级评价更新接口
- 新增考试类型更新接口，支持编辑时修改考试类型字段
- 新增索引项更新接口，包含唯一性校验逻辑
- 新增各模块分析数据查询接口，返回历次考试各二级模块的正确率数据，支持按日期范围筛选参数（开始日期、结束日期）
- 新增各模块用时趋势数据查询接口，返回历次考试各大模块的用时数据（从考试记录详情中提取）
- 新增考试记录多维度查询接口，支持以下筛选参数：
  + 考试名称（模糊搜索）
  + 考试类型（精确匹配）
  + 总分区间（范围筛选）
  + 击败率区间（范围筛选）
  + 考试日期范围（开始日期、结束日期）
  + 星级评价（四舍五入后精确匹配）
- 查询接口支持参数为空时返回全部数据，仅根据已填写的参数进行筛选
- 新增账户删除接口，执行二次验证逻辑（验证手机号或邮箱）
- 删除接口需级联删除用户所有相关数据（用户信息、考试记录、模块得分、分析结果缓存、模考计时记录等）
- 删除操作完成后返回成功标识，前端清空登录状态
- **新增模考计时记录保存接口**：
  - 接收前端提交的模考计时数据（考试名称、考试日期、总用时、各模块名称、各模块用时、各模块起止时间、备注）
  - 后端自动生成记录ID，存储至模考计时记录表
- **新增模考计时记录查询接口**：
  - 返回用户所有模考计时记录，支持按考试名称、考试日期筛选
  - 支持分页查询\n- **新增单次模考计时记录详情查询接口**：\n  - 根据记录ID返回单次模考的详细数据，包括各模块用时分布等
\n## 4. 界面设计风格

### 4.1 配色方案

主色调采用专业的蓝色系（#1890FF），辅以清新的绿色（#52C41A）表示增长趋势，警示橙色（#FF7A45）提示薄弱环节；各模块分析页面中，不同模块使用不同主题色区分（政治理论蓝色#1890FF、常识判断绿色#52C41A、言语理解与表达紫色#722ED1、数量关系橙色#FA8C16、判断推理青色#13C2C2、资料分析红色#F5222D）；考试类型Tag使用不同颜色区分（国考真题蓝色、国考模考绿色、省考真题橙色、省考模考紫色、其他灰色）；个人中心危险区域使用危险红色（#F5222D）突出警示；新增平均分仪表盘采用分段配色（0-60分浅蓝/青色、60-80分蓝色、80-100分红色/粉色）；模考计时工具页面采用简洁清爽配色，总计时器使用醒目蓝色，模块卡片使用浅灰背景，进行中的模块高亮显示，超时进度条显示红色\n
### 4.2 视觉细节

采用现代扁平化设计，圆角半径8px，卡片式布局增强层次感，图表采用渐变色彩提升视觉体验；考试类型Tag带有彩色边框，字体清晰可读；个人中心删除账户按钮字号特大，阴影层次明显，确保用户充分注意；目标正确率设置区域使用icon图标增强视觉识别；新增平均分仪表盘采用ECharts渐变效果，指针清晰可见；各模块分析页面顶部日期选择器样式与数据总览页面保持一致；考试记录查询表单采用横向布局，各筛选项和按钮间距均匀，视觉统一；移动端横屏查看按钮位置醒目，图标或文字清晰可识别；模考计时工具页面按钮尺寸适中，便于快速点击，模块卡片内信息排版清晰，建议时间进度条采用渐变色，超时后变红闪烁提示\n
### 4.3 整体布局

左侧导航栏固定，主内容区域采用卡片式网格布局，图表区域预留充足空间确保数据可读性；各模块分析页面采用垂直滚动布局，顶部固定日期选择范围UI，每个模块占据独立卡片区域；个人中心页面采用纵向分区布局，目标正确率设置和危险区域明显区分；数据总览页面采用左右分栏布局，左侧展示平均分仪表盘，右侧展示两行两列的四个关键指标卡片；考试记录列表中，考试类型列以Tag形式展示，视觉上清晰区分不同考试类型；考试记录查询表单位于列表上方，所有筛选项横向排列或折行展示，搜索和重置按钮位于表单右侧；移动端横屏查看Modal采用全屏布局，图表旋转90度后占满屏幕，关闭按钮位于右上角；模考计时工具页面采用上中下三区域布局，顶部总计时器和控制按钮居中显示，中部6个模块卡片采用响应式网格布局（桌面端2行3列或3行2列，移动端单列纵向排列），底部重置按钮居中显示\n
## 5. 参考图片

### 5.1 成绩截图样本

- image.png：包含总分、各模块得分、用时等完整信息
- image-2.png：不同考试的成绩截图示例
- image-3.png：成绩截图样本\n-这些图片将用于训练文字识别模型和测试数据解析准确性