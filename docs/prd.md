#考试成绩分析系统需求文档

## 1. 系统概述

### 1.1 系统名称
考试成绩分析系统

### 1.2 系统描述
一个专门用于分析和管理模拟考试成绩的Web系统，通过上传考试截图，利用文字识别技术提取成绩数据，进行多维度分析和可视化展示，同时提供模考计时工具帮助用户精准记录各模块答题时间，帮助用户全面了解自身学习状况，制定针对性提升计划。系统采用会员制，用户需注册登录后方可使用全部功能。系统提供VIP会员服务，VIP用户享有更多高级功能权限。\n
## 2. 核心功能

### 2.1 用户注册与登录

#### 2.1.1 注册功能

- 支持手机号+验证码注册方式
- 用户输入手机号，系统发送验证码至用户手机
- 用户输入验证码完成手机验证
- 注册时用户需设置用户名（昵称），用户名仅允许使用中文、英文、数字，不允许包含特殊字符
- 注册成功后自动登录，跳转至系统首页
- 新注册用户默认无任何考试数据，数据为空白状态
- 新注册用户默认为普通用户（非VIP）\n
#### 2.1.2 登录功能

- 支持手机号+验证码登录
- 验证码有效期5分钟，输入错误次数超过5次后锁定账户30分钟
- 登录成功后，系统记录用户登录状态（使用Token或Session机制）\n- 未登录用户访问系统时，自动跳转至登录页面

#### 2.1.3 手机号绑定

- 系统已存在手机号为15538838360的用户数据
- 该用户登录后，系统自动为其绑定现有应用中的所有考试数据
- 15538838360用户默认为VIP用户
- 其他新注册用户，默认无任何考试记录，数据为空白状态
- 每个用户的考试数据独立存储，互不干扰

### 2.2 VIP会员功能

#### 2.2.1 VIP权益说明

系统提供VIP会员服务，VIP用户与普通用户权益对比如下：\n
| 功能项 | 普通用户 | VIP用户 |\n|--------|---------|--------|\n| 考试记录上传数量 | 最多2条 | 无限制 |\n| 导出Excel功能 | 不可用 | 可用 |\n| 数据可视化分析 | 可用 | 可用 |\n| 模块趋势分析 | 可用 | 可用 |\n| 个人数据管理 | 可用 | 可用 |\n
#### 2.2.2 VIP标识展示

- 系统在需要VIP权限的功能入口处展示VIP图标（如导出Excel按钮旁显示VIP标识）\n- VIP用户在个人中心页面显示VIP身份标识
- 普通用户在个人中心页面显示〖开通VIP〗入口按钮

#### 2.2.3 VIP权益对比弹窗

当普通用户点击需要VIP权限的功能（如导出Excel按钮）时，系统弹出精美的VIP权益对比弹窗：\n
**弹窗内容：**\n
- 标题：〖开通VIP，解锁更多功能〗\n- 权益对比表格：清晰展示普通用户与VIP用户的功能差异（参考2.2.1权益对比表）\n- VIP特权说明：\n  + 无限制上传考试记录，全面追踪学习进度
  + 一键导出Excel数据表，便捷管理历史成绩
  + 更多高级功能持续更新中
- 操作按钮：\n  + 〖立即开通VIP〗按钮（主色调按钮）\n  + 〖暂不开通〗按钮（次要按钮，关闭弹窗）\n
**弹窗设计要求：**\n
- 采用卡片式布局，视觉层次清晰
- 使用渐变色背景或精美插图增强视觉吸引力
- 权益对比表格使用对比色突出VIP特权项
- 弹窗支持点击遮罩层或关闭按钮关闭

#### 2.2.4 上传记录数量限制

**普通用户限制：**\n
- 普通用户最多只能保存2条考试记录
- 当用户已有2条记录时，尝试上传新记录时，系统弹出提示：〖您已达到普通用户上传记录上限（2条），请删除旧记录后再上传，或开通VIP享受无限上传权限〗\n- 提示弹窗包含〖删除旧记录〗和〖开通VIP〗两个操作入口

**VIP用户权限：**\n
- VIP用户无上传记录数量限制，可无限制上传考试记录

#### 2.2.5 导出Excel功能（VIP专属）\n
**功能入口：**\n
- 在〖各模块分析〗页面右上角或合适位置添加〖导出Excel〗按钮
- 按钮旁显示VIP图标标识

**功能逻辑：**\n
- VIP用户点击按钮后，系统将当前页面展示的历次考试各模块详细数据表导出为Excel文件（.xlsx格式）\n- 导出内容包含：\n  + 考试名称、考试日期、总分、用时等基础信息
  + 各一级模块（政治理论、常识判断、言语理解与表达、数量关系、判断推理、资料分析）的正确率、用时数据
  + 各二级模块（如马克思主义、理论与政策、时政热点等）的题目数量、答对数量、正确率、用时数据
- 导出文件命名规则：〖考试成绩分析_导出日期.xlsx〗（如〖考试成绩分析_2025-12-19.xlsx〗）\n- 导出成功后，系统提示〖导出成功〗并自动下载文件

**非VIP用户交互：**\n
- 普通用户点击〖导出Excel〗按钮时，系统弹出VIP权益对比弹窗（参考2.2.3）\n- 弹窗提示：〖导出Excel功能为VIP专属功能，开通VIP即可使用〗\n
### 2.3 成绩数据录入

系统提供两种数据录入方式，用户通过Tab选项卡切换，二选一使用：\n
#### 2.3.1 截图上传录入

- 支持用户上传考试成绩截图（image.png, image-2.png等）\n- 集成通用文字识别（高精度版）API自动识别图片中的文字信息
- 用户需输入上传图片对应的考试名称
- 后端根据索引项顺序保存每次考试数据
- 普通用户上传时，系统校验当前考试记录数量，若已达2条上限，则弹出提示并阻止上传

#### 2.3.2 表单录入

- 用户通过表单手动填写各模块成绩数据
- 表单采用折叠面板结构，大模块支持展开/折叠操作
- 每个大模块下包含对应的子模块录入项
- 每个模块/子模块需填写以下字段：\n  - 题目数量（总题数）\n  - 答对数量
  - 用时（单位：秒或分钟）\n- 用户需输入考试名称、索引号、总用时等基础信息
- 普通用户提交表单时，系统校验当前考试记录数量，若已达2条上限，则弹出提示并阻止提交

**表单模块结构：**\n
**大模块1：政治理论**（可折叠）\n- 马克思主义：题目数量、答对数量、用时
- 理论与政策：题目数量、答对数量、用时
- 时政热点：题目数量、答对数量、用时

**大模块2：常识判断**（可折叠）\n- 经济常识：题目数量、答对数量、用时
- 科技常识：题目数量、答对数量、用时
- 人文常识：题目数量、答对数量、用时
- 地理国情：题目数量、答对数量、用时
- 法律常识：题目数量、答对数量、用时

**大模块3：言语理解与表达**（可折叠）\n- 逻辑填空：题目数量、答对数量、用时
- 片段阅读：题目数量、答对数量、用时
- 语句表达：题目数量、答对数量、用时

**大模块4：数量关系**（可折叠）\n- 数学运算：题目数量、答对数量、用时

**大模块5：判断推理**（可折叠）\n- 图形推理：题目数量、答对数量、用时
- 定义判断：题目数量、答对数量、用时
- 类比推理：题目数量、答对数量、用时
- 逻辑判断：题目数量、答对数量、用时

**大模块6：资料分析**（可折叠）\n- 文字资料：题目数量、答对数量、用时
- 综合资料：题目数量、答对数量、用时
- 简单计算：题目数量、答对数量、用时
- 其期与现期：题目数量、答对数量、用时
- 增长率：题目数量、答对数量、用时
- 增长量：题目数量、答对数量、用时
- 比重问题：题目数量、答对数量、用时
- 平均数问题：题目数量、答对数量、用时

### 2.4 数据解析与存储

根据提供的截图内容或表单录入数据，系统按照以下模块划分存储数据：\n
#### 2.4.1 一级模块（大模块）\n
- **公务员行测**：包含共计130题，答对79题，答错51题，未答0题，用时14分钟
- **政治理论**：包含马克思主义、理论与政策、时政热点三个子模块
- **常识判断**：包含经济常识、科技常识、人文常识、地理国情、法律常识五个子模块
- **言语理解与表达**：包含逻辑填空、片段阅读、语句表达三个子模块
- **数量关系**：包含数学运算子模块
- **判断推理**：包含图形推理、定义判断、类比推理、逻辑判断四个子模块
- **资料分析**：包含文字资料、综合资料、简单计算、其期与现期、增长率、增长量、比重问题、平均数问题八个子模块

#### 2.4.2 二级模块（小模块）\n
**政治理论细分：**\n- 马克思主义：总题数3题，答对2题，正确率67%，用时3秒
- 理论与政策：总题数17题，答对13题，正确率76%，用时25秒
- 时政热点：总题数6题，答对5题，正确率83%，用时7秒

**常识判断细分：**\n- 经济常识：总题数1题，答对1题，正确率100%，用时3秒
- 科技常识：总题数4题，答对2题，正确率50%，用时5秒
- 人文常识：总题数2题，答对0题，正确率0%，用时3秒
- 地理国情：总题数1题，答对0题，正确率0%，用时2秒
- 法律常识：总题数7题，答对4题，正确率57%，用时8秒

**言语理解与表达细分：**\n- 逻辑填空：总题数15题，答对12题，正确率80%，用时19秒
- 片段阅读：总题数10题，答对8题，正确率80%，用时13秒
- 语句表达：总题数5题，答对3题，正确率60%，用时9秒

**数量关系细分：**\n- 数学运算：总题数10题，答对2题，正确率20%，用时16秒

**判断推理细分：**\n- 图形推理：总题数10题，答对7题，正确率70%，用时2秒
- 定义判断：总题数10题，答对8题，正确率80%，用时36秒
- 类比推理：总题数5题，答对3题，正确率60%，用时6秒
- 逻辑判断：总题数10题，答对7题，正确率70%，用时38秒

**资料分析细分：**\n- 文字资料：总题数5题，答对2题，正确率40%，用时8秒
- 综合资料：总题数15题，答对5题，正确率33%，用时24秒
- 简单计算：总题数2题，答对1题，正确率50%，用时3秒
- 其期与现期：总题数1题，答对1题，正确率100%，用时3秒
- 增长率：总题数4题，答对1题，正确率25%，用时5秒
- 增长量：总题数2题，答对1题，正确率50%，用时4秒
- 比重问题：总题数3题，答对3题，正确率100%，用时2秒
- 平均数问题：总题数3题，答对0题，正确率0%，用时6秒

### 2.5 随机数据生成与统计分析示例

系统内置模拟数据生成功能，以下为示例统计分析：\n
#### 2.5.1 总体得分数据

- **我的得分**：61.6/100
- **答题用时**：14分28秒
- **最高分**：100分
- **平均分**：62.1分
- **已击败考生**：48.9%\n- **难度**：4.9分

#### 2.5.2 得分分布趋势

-100分段：占比33.3%\n- 66.7分段：占比33.3%\n- 0分段：占比33.3%\n- 当前得分61.6分位于66.7分段附近

#### 2.5.3 模块正确率对比分析

| 模块名称 | 正确率 | 与目标差距 |\n|---------|--------|----------|\n| 政治理论 | 75% | -10% |\n| 常识判断 | 47% | -38% |\n| 言语理解与表达 | 77% | -8% |\n| 数量关系 | 20% | -65% |\n| 判断推理 | 71% | -14% |\n| 资料分析 | 35% | -50% |\n
**雷达图展示**：政治理论、言语理解表现较好，数量关系、资料分析为明显短板。\n
#### 2.5.4 薄弱环节分析

**高优先级提升模块：**\n1. 数量关系（正确率20%）：建议加强数学运算基础训练，每天练习10题
2. 资料分析（正确率35%）：重点突破综合资料和平均数问题，练习快速阅读技巧
3. 常识判断（正确率47%）：补充人文常识和地理国情知识点

**时间效率优化：**\n- 判断推理用时较长（3分钟），需提升定义判断和逻辑判断速度
- 资料分析用时9分钟，需练习快速定位关键数据

### 2.6 数据可视化分析

- 使用React框架构建前端界面
- 集成ECharts库生成各类图表

#### 2.6.1 数据总览页面（原数据分析页面）\n
展示整体成绩趋势和综合分析：\n
**页面布局调整：**\n
- **上方区域**：倒计时和加油站保持原有展示

- **中间区域（左右分栏布局）：**\n  - **左侧**：新增平均分仪表盘
    - 参考ECharts仪表盘示例（https://echarts.apache.org/examples/zh/editor.html?c=gauge-stage）\n    - 仪表盘以60分、80分为分隔线，划分为三个区段
    - 0-60分区段显示为浅蓝色或青色，表示需努力
    - 60-80分区段显示为蓝色，表示中等水平
    - 80-100分区段显示为红色或粉色，表示优秀
    - 仪表盘中央显示当前平均分数值
  - **右侧**：原中间的四个卡片（最高分、平均分、已击败考生、难度）改为两行两列布局展示

- **成绩趋势分析：**\n  - 总分变化折线图
  - **移动端横屏查看功能（新增）：**\n    - 在总分趋势图表右上角或合适位置添加〖横屏查看〗切换按钮，使用图标（如旋转图标）或文字标识
    - 用户点击按钮后，弹出全屏Modal弹窗
    - 弹窗内展示相同的总分趋势图表，但图表整体旋转90度，以横屏方式呈现
    - 横屏模式下，将移动设备的长边（竖向）作为图表的宽度（横向），充分利用屏幕空间
    - 弹窗提供关闭按钮，用户可随时退出横屏查看模式，返回正常竖屏展示
    - 该功能仅在移动端（屏幕宽度小于768px）时显示切换按钮，桌面端不显示
  - 各大模块得分趋势图
  - 关键模块详细分析

- **各模块正确率趋势（原模块趋势）：**\n  - 各大模块正确率变化折线图
  - X轴显示考试名称（按索引项升序排列）\n  - Y轴显示正确率百分比（0%-100%）\n  - 鼠标悬停显示具体考试的详细数据

- **各模块用时趋势（新增）：**\n  - 各大模块用时变化柱状图或折线图
  - X轴显示考试名称（按索引项升序排列）\n  - Y轴显示用时（秒或分钟）\n  - 数据来源：从考试记录详情中各模块的用时数据中提取
  - 鼠标悬停显示具体考试各模块的用时详情

- **效率分析：**\n  - 各模块用时统计图
  - 正确率与用时关系分析

- **模块对比：**\n  - 各大模块平均得分柱状图
  - 弱势模块识别和提醒

#### 2.6.2 各模块分析页面（新增）\n
新增独立路由页面，展示历次考试各模块二级模块的详细趋势分析：\n
**页面布局：**\n- **顶部区域：**\n  - 新增日期选择范围UI，样式与数据总览页面保持一致，包含开始日期和结束日期选择器，用户可筛选指定时间范围内的考试数据
  - 新增〖导出Excel〗按钮（VIP专属功能），按钮旁显示VIP图标标识
- 各模块分析页面的日期选择与数据总览页面的日期选择互不干扰，各自独立保存筛选状态
- 按一级模块分类，每个模块设置大标题和独立区域
- 不同模块使用不同主题色进行区分（如政治理论用蓝色、常识判断用绿色、言语理解与表达用紫色、数量关系用橙色、判断推理用青色、资料分析用红色）\n
**展示内容：**\n
**政治理论模块**\n- 马克思主义正确率趋势折线图
- 理论与政策正确率趋势折线图
- 时政热点正确率趋势折线图

**常识判断模块**\n- 经济常识正确率趋势折线图
- 科技常识正确率趋势折线图
- 人文常识正确率趋势折线图
- 地理国情正确率趋势折线图
- 法律常识正确率趋势折线图

**言语理解与表达模块**\n- 逻辑填空正确率趋势折线图
- 片段阅读正确率趋势折线图
- 语句表达正确率趋势折线图

**数量关系模块**\n- 数学运算正确率趋势折线图

**判断推理模块**\n- 图形推理正确率趋势折线图
- 定义判断正确率趋势折线图
- 类比推理正确率趋势折线图
- 逻辑判断正确率趋势折线图

**资料分析模块**\n- 文字资料正确率趋势折线图
- 综合资料正确率趋势折线图
- 简单计算正确率趋势折线图
- 其期与现期正确率趋势折线图
- 增长率正确率趋势折线图
- 增长量正确率趋势折线图
- 比重问题正确率趋势折线图
- 平均数问题正确率趋势折线图

**图表功能：**\n- X轴显示考试名称（按索引项升序排列，根据顶部日期筛选条件过滤）\n- Y轴显示正确率百分比（0%-100%）\n- 鼠标悬停显示具体考试的详细数据（考试名称、正确率、答对数、总题数）\n- 支持图表缩放和数据筛选

### 2.7 个人数据管理

#### 2.7.1 考试记录列表

考试记录列表包含以下字段：\n
- **索引项**：用于控制列表排序，默认从1开始自动递增，用户可手动修改但不可重复
- **考试名称**：用户自定义的考试名称（替代原期数字段）\n- **考试类型**：\n  - **编辑时**：在编辑考试记录弹窗中显示为下拉单选选择器，提供5个选项：\n    + 国考真题
    + 国考模考（默认选中）\n    + 省考真题
    + 省考模考
    + 其他
  - **列表展示时**：使用Ant Design的Tag组件，以带边框颜色的Tag形式展示考试类型（参考附件图片样式），不同类型使用不同颜色区分，而非纯文本形式
- **星级评价**：用户可为每条记录设置星级评价，最高五星级，支持半星评分，使用Ant Design的Rate组件实现（https://ant-design.antgroup.com/components/rate-cn#api）\n- **总分**：考试总得分
- **用时**：答题总用时
- **上传时间**：成绩数据上传时间
- **操作**：查看详情、删除等操作按钮

#### 2.7.2 考试记录查询表单（新增）\n
**表单布局：**\n- 位于考试记录列表上方，提供多维度筛选功能
- 采用横向表单布局，所有筛选项和按钮排列在同一行或折行展示

**筛选项设计：**\n
1. **考试名称**\n   - 组件类型：Input输入框
   - 功能：输入文本进行模糊搜索，匹配考试名称字段
   - 占位符文案：〖请输入考试名称〗\n
2. **考试类型**\n   - 组件类型：Select下拉单选选择器（与编辑考试记录时的考试类型选择器样式一致，参考附件图片）\n   - 选项：国考真题、国考模考、省考真题、省考模考、其他、全部（默认选中〖全部〗）\n   - 占位符文案：〖请选择考试类型〗\n
3. **总分区间**\n   - 组件类型：Select下拉单选选择器
   - 选项：以10分为间隔划分为10个区间