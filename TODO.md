# 任务: 完善系统功能

## 当前任务

### 1. 添加模块趋势折线图 🔄
- [ ] 在Dashboard添加模块趋势图
- [ ] 获取所有考试的模块数据
- [ ] 按时间顺序排序
- [ ] 为每个主模块绘制折线
- [ ] 添加图例和tooltip

### 2. 添加考试倒计时 ✅
- [x] 在设置页面添加考试配置
- [x] 支持选择考试类型(国考/省考)
- [x] 支持设置考试日期
- [x] 在Header添加倒计时显示
- [x] 计算剩余天数
- [x] 数据库存储考试配置
- [x] 添加API函数
- [x] 更新类型定义

### 3. 改进OCR识别精确度 ⏳
- [ ] 测试当前识别效果
- [ ] 根据实际OCR结果调整正则表达式
- [ ] 添加更多容错匹配模式

## 已完成

### 雷达图tooltip优化 ✅
- [x] 修改tooltip显示逻辑
- [x] 只显示当前hover项的数据
- [x] 显示"我的"值和"目标"值
- [x] 添加颜色标识
- [x] 优化显示格式

### 编辑考试用时功能 ✅
- [x] 在用时卡片添加编辑按钮
- [x] 创建编辑用时Dialog
- [x] 实现用时更新功能(分钟输入)
- [x] 添加表单验证
- [x] 更新本地状态
- [x] 显示保存状态

### 调整菜单结构 ✅
- [x] 删除"生成数据"菜单
- [x] 将"目标设置"改为"设置"
- [x] 更新路由配置
- [x] 调整设置页面布局

### 改进雷达图显示 ✅
- [x] 获取用户目标设置
- [x] 在雷达图添加目标数据系列(红色虚线)
- [x] 保持实际数据系列(橙色填充)
- [x] 添加图例说明(我的/目标)
- [x] 优化颜色和样式

### 用时输入改进 ✅
- [x] 修改上传表单,用时改为分钟输入
- [x] 添加输入验证(只允许数字)
- [x] 后台自动转换分钟为秒数
- [x] 更新dataParser函数签名

### 全局设置页面 ✅
- [x] 创建Settings页面组件
- [x] 添加6大模块的目标正确率设置表单
- [x] 实现保存设置功能
- [x] 添加路由配置
- [x] 添加加载和保存状态
- [x] 添加表单验证
- [x] 添加恢复默认功能

### 数据库设计 ✅
- [x] 创建user_settings表
- [x] 添加difficulty和beat_percentage字段
- [x] 应用所有数据库迁移

### 详情页面优化 ✅
- [x] 显示难度系数
- [x] 显示平均分
- [x] 显示击败百分比
- [x] 显示最高分
- [x] 优化响应式布局

## 注意事项
- 所有UI文本使用中文
- 确保表单验证完善
- 保持代码整洁和注释清晰
- OCR识别需要根据实际效果持续优化
- 雷达图颜色: 橙色(我的) + 红色虚线(目标)
- 用时编辑: 分钟输入,自动转换为秒数存储

